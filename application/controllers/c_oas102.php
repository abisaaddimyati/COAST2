<?php /************************************************************************************************ * Program History :** Project Name     : OAS* Client Name      : CBI - Muhammad* Program Id       : OAS102* Program Name     : Edit Bantuan Per Level* Description      :* Environment      : PHP 5.4.4* Author           :Winni Oktaviani* Version          : 01.00.00* Creation Date    : 13-02-2015 12:35:00 ICT 2015** Update history     Re-fix date       Person in charge      Description* ** Copyright(C) [..]. All Rights Reserved*************************************************************************************************/if ( ! defined('BASEPATH')) exit('No direct script access allowed');class C_OAS102 extends MY_Controller {	/**	 * Index Page for this controller.	 *	 * Maps to the following URL	 * 		http://example.com/index.php/welcome	 *	- or -  	 * 		http://example.com/index.php/welcome/index	 *	- or -	 * Since this controller is set as the default controller in 	 * config/routes.php, it's displayed at http://example.com/	 *	 * So any other public methods not prefixed with an underscore will	 * map to /index.php/welcome/<method_name>	 * @see http://codeigniter.com/user_guide/general/urls.html	 */	function __construct()	{		parent::__construct();		$index	= $this->config->item('index_page');		$host	= $this->config->item('base_url');		$this->url = empty($index) ? $host : $host . $index . '/';		$this->load->model('m_oas102', 'setting_model');			}			function getListKelahiran(){			$this->load->model('m_oas102');		$id = $this->input->get('code');		$showKelahiranList = $this->setting_model->get_kelahiran_list($id);?>		<select id="kelahiran_list" onchange="ambil_amountBantuan()">		<?if(isset($showKelahiranList)){	?>			<option style="display: none;" value=""> --choose one---</option>			<?foreach($showKelahiranList as $data){?>								<option value="<?php echo $data['id']?>"><?php echo $data['name']; ?></option>			<?			}		}?>		</select><?				}		function getAmount(){			$this->load->model('m_oas102');		$id 		= $this->input->get('code');		$lvl		= $this->input->get('cost_id');		$child		= $this->input->get('child');		$amount	= $this->setting_model->get_category_claim($id,$child,$lvl);?>		<?if(isset($amount)){			foreach($amount as $data){?>					<input  id="helpme"  value="<?php echo number_format($data['amount'] ,0,",",".")?>" onkeyup="formatAngka(this, '.')">					<?			}		}	}					function load_view($levelId)	{		$param['level_id'] = $this->setting_model->get_cost_info($levelId);		$param['status_edit'] = 1;		$param['list_bantuan'] = $this->setting_model->get_list_bantuan();		$this->load->view('v_oas102', $param);	}		function update_bantuan()	{		if($this->input->post('ajax') == '1')		{			$sbmt['this_user']					= $this->user['email'];			$sbmt['LEVEL_ID']  			= $this->input->post('level');			$sbmt['TYPE_ID']  			= $this->input->post('tipe');            $sbmt['AMOUNT']	= $this->input->post('amount');            $response = $this->setting_model->updateBantuan($sbmt);            echo $response;		}	}}/* End of file c_oas102.php *//* Location: ./application/controllers/c_oas102.php */